import{p as O,I as E,m as G,a as et,b as F,g as j,u as tt,c as lt,d as be,e as at,f as he,w as me,h as _e,i as r,j as g,n as Q,k as nt,l as C,s as T,o as st,q as Re,r as qe,t as ot,v as w,x as de,y as it,z as rt,A as ke,E as Ce,B as ut,F as fe,C as $,D as Le,G as Y,H as ge,J as Te,K as I,L as J,M as S,N as B,O as ct,P as dt,Q as ft,R as Se,S as vt,T as mt,U as ze,V as gt}from"./index-DL46mXrj.js";import{m as $e,u as Be,V as x,d as yt,a as Ne,R as Ve,b as pt,c as bt,e as ht,f as kt,g as xe,h as Ct,i as St,j as zt,k as Vt,l as xt,n as wt,o as At,p as Pt,q as It,r as Et,s as _t,t as K,v as ve,w as Rt,x as qt,y as Lt,z as X,A as Tt,_ as $t,B as Bt,C as Nt}from"./_plugin-vue_export-helper-gg6-hRDx.js";import{V as we,a as Ot,b as Gt}from"./VTextField-D7gyxEMa.js";import{V as Ft}from"./VSpacer-jCo8Qir_.js";function jt(e){let{selectedElement:s,containerElement:a,isRtl:l,isHorizontal:t}=e;const c=N(t,a),u=Oe(t,l,a),v=N(t,s),f=Ge(t,s),h=v*.4;return u>f?f-h:u+c<f+v?f-c+v+h:u}function Dt(e){let{selectedElement:s,containerElement:a,isHorizontal:l}=e;const t=N(l,a),c=Ge(l,s),u=N(l,s);return c-t/2+u/2}function Ae(e,s){return s?.[e?"scrollWidth":"scrollHeight"]||0}function Mt(e,s){return s?.[e?"clientWidth":"clientHeight"]||0}function Oe(e,s,a){if(!a)return 0;const{scrollLeft:l,offsetWidth:t,scrollWidth:c}=a;return e?s?c-t+l:l:a.scrollTop}function N(e,s){return s?.[e?"offsetWidth":"offsetHeight"]||0}function Ge(e,s){return s?.[e?"offsetLeft":"offsetTop"]||0}const Fe=Symbol.for("vuetify:v-slide-group"),je=O({centerActive:Boolean,scrollToActive:{type:Boolean,default:!0},contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Fe},nextIcon:{type:E,default:"$next"},prevIcon:{type:E,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile","never"].includes(e)},...F(),...et({mobile:null}),...G(),...$e({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Pe=j()({name:"VSlideGroup",props:je(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:a}=s;const{isRtl:l}=tt(),{displayClasses:t,mobile:c}=lt(e),u=Be(e,e.symbol),v=T(!1),f=T(0),h=T(0),b=T(0),i=C(()=>e.direction==="horizontal"),{resizeRef:d,contentRect:y}=be(),{resizeRef:k,contentRect:z}=be(),D=at(),V=C(()=>({container:d.el,duration:200,easing:"easeOutQuart"})),Z=C(()=>u.selected.value.length?u.items.value.findIndex(n=>n.id===u.selected.value[0]):-1),ee=C(()=>u.selected.value.length?u.items.value.findIndex(n=>n.id===u.selected.value[u.selected.value.length-1]):-1);if(he){let n=-1;me(()=>[u.selected.value,y.value,z.value,i.value],()=>{cancelAnimationFrame(n),n=requestAnimationFrame(()=>{if(y.value&&z.value){const o=i.value?"width":"height";h.value=y.value[o],b.value=z.value[o],v.value=h.value+1<b.value}if(e.scrollToActive&&Z.value>=0&&k.el){const o=k.el.children[ee.value];M(o,e.centerActive)}})})}const A=T(!1);function M(n,o){let m=0;o?m=Dt({containerElement:d.el,isHorizontal:i.value,selectedElement:n}):m=jt({containerElement:d.el,isHorizontal:i.value,isRtl:l.value,selectedElement:n}),_(m)}function _(n){if(!he||!d.el)return;const o=N(i.value,d.el),m=Oe(i.value,l.value,d.el);if(!(Ae(i.value,d.el)<=o||Math.abs(n-m)<16)){if(i.value&&l.value&&d.el){const{scrollWidth:ue,offsetWidth:ce}=d.el;n=ue-ce-n}i.value?D.horizontal(n,V.value):D(n,V.value)}}function te(n){const{scrollTop:o,scrollLeft:m}=n.target;f.value=i.value?m:o}function p(n){if(A.value=!0,!(!v.value||!k.el)){for(const o of n.composedPath())for(const m of k.el.children)if(m===o){M(m);return}}}function W(n){A.value=!1}let R=!1;function le(n){!R&&!A.value&&!(n.relatedTarget&&k.el?.contains(n.relatedTarget))&&L(),R=!1}function q(){R=!0}function U(n){if(!k.el)return;function o(m){n.preventDefault(),L(m)}i.value?n.key==="ArrowRight"?o(l.value?"prev":"next"):n.key==="ArrowLeft"&&o(l.value?"next":"prev"):n.key==="ArrowDown"?o("next"):n.key==="ArrowUp"&&o("prev"),n.key==="Home"?o("first"):n.key==="End"&&o("last")}function P(n,o){if(!n)return;let m=n;do m=m?.[o==="next"?"nextElementSibling":"previousElementSibling"];while(m?.hasAttribute("disabled"));return m}function L(n){if(!k.el)return;let o;if(!n)o=st(k.el)[0];else if(n==="next"){if(o=P(k.el.querySelector(":focus"),n),!o)return L("first")}else if(n==="prev"){if(o=P(k.el.querySelector(":focus"),n),!o)return L("last")}else n==="first"?(o=k.el.firstElementChild,o?.hasAttribute("disabled")&&(o=P(o,"next"))):n==="last"&&(o=k.el.lastElementChild,o?.hasAttribute("disabled")&&(o=P(o,"prev")));o&&o.focus({preventScroll:!0})}function ae(n){const o=i.value&&l.value?-1:1,m=(n==="prev"?-o:o)*h.value;let re=f.value+m;if(i.value&&l.value&&d.el){const{scrollWidth:ue,offsetWidth:ce}=d.el;re+=ue-ce}_(re)}const ne=C(()=>({next:u.next,prev:u.prev,select:u.select,isSelected:u.isSelected})),H=C(()=>v.value||Math.abs(f.value)>0),se=C(()=>{switch(e.showArrows){case"never":return!1;case"always":return!0;case"desktop":return!c.value;case!0:return H.value;case"mobile":return c.value||H.value;default:return!c.value&&H.value}}),oe=C(()=>Math.abs(f.value)>1),ie=C(()=>{if(!d.value||!H.value)return!1;const n=Ae(i.value,d.el),o=Mt(i.value,d.el);return n-o-Math.abs(f.value)>1});return _e(()=>r(e.tag,{class:Q(["v-slide-group",{"v-slide-group--vertical":!i.value,"v-slide-group--has-affixes":se.value,"v-slide-group--is-overflowing":v.value},t.value,e.class]),style:nt(e.style),tabindex:A.value||u.selected.value.length?-1:0,onFocus:le},{default:()=>[se.value&&g("div",{key:"prev",class:Q(["v-slide-group__prev",{"v-slide-group__prev--disabled":!oe.value}]),onMousedown:q,onClick:()=>oe.value&&ae("prev")},[a.prev?.(ne.value)??r(we,null,{default:()=>[r(x,{icon:l.value?e.nextIcon:e.prevIcon},null)]})]),g("div",{key:"container",ref:d,class:Q(["v-slide-group__container",e.contentClass]),onScroll:te},[g("div",{ref:k,class:"v-slide-group__content",onFocusin:p,onFocusout:W,onKeydown:U},[a.default?.(ne.value)])]),se.value&&g("div",{key:"next",class:Q(["v-slide-group__next",{"v-slide-group__next--disabled":!ie.value}]),onMousedown:q,onClick:()=>ie.value&&ae("next")},[a.next?.(ne.value)??r(we,null,{default:()=>[r(x,{icon:l.value?e.prevIcon:e.nextIcon},null)]})])]})),{selected:u.selected,scrollTo:ae,scrollOffset:f,focus:L,hasPrev:oe,hasNext:ie}}}),De=Symbol.for("vuetify:v-chip-group"),Wt=O({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:yt},...je({scrollToActive:!1}),...F(),...$e({selectedClass:"v-chip--selected"}),...G(),...Re(),...Ne({variant:"tonal"})},"VChipGroup");j()({name:"VChipGroup",props:Wt(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:a}=s;const{themeClasses:l}=qe(e),{isSelected:t,select:c,next:u,prev:v,selected:f}=Be(e,De);return ot({VChip:{baseColor:w(()=>e.baseColor),color:w(()=>e.color),disabled:w(()=>e.disabled),filter:w(()=>e.filter),variant:w(()=>e.variant)}}),_e(()=>{const h=Pe.filterProps(e);return r(Pe,de(h,{class:["v-chip-group",{"v-chip-group--column":e.column},l.value,e.class],style:e.style}),{default:()=>[a.default?.({isSelected:t,select:c,next:u,prev:v,selected:f.value})]})}),{}}});const Ut=O({activeClass:String,appendAvatar:String,appendIcon:E,baseColor:String,closable:Boolean,closeIcon:{type:E,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:E,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:E,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:Ce(),onClickOnce:Ce(),...Et(),...F(),...It(),...Pt(),...At(),...wt(),...xt(),...Vt(),...G({tag:"span"}),...Re(),...Ne({variant:"tonal"})},"VChip"),Ht=j()({name:"VChip",directives:{vRipple:Ve},props:Ut(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,s){let{attrs:a,emit:l,slots:t}=s;const{t:c}=it(),{borderClasses:u}=pt(e),{densityClasses:v}=bt(e),{elevationClasses:f}=zt(e),{roundedClasses:h}=ht(e),{sizeClasses:b}=kt(e),{themeClasses:i}=qe(e),d=rt(e,"modelValue"),y=xe(e,De,!1),k=xe(e,Fe,!1),z=Ct(e,a),D=w(()=>e.link!==!1&&z.isLink.value),V=C(()=>!e.disabled&&e.link!==!1&&(!!y||e.link||z.isClickable.value)),Z=w(()=>({"aria-label":c(e.closeLabel),disabled:e.disabled,onClick(p){p.preventDefault(),p.stopPropagation(),d.value=!1,l("click:close",p)}}));me(d,p=>{p?(y?.register(),k?.register()):(y?.unregister(),k?.unregister())});const{colorClasses:ee,colorStyles:A,variantClasses:M}=St(()=>({color:!y||y.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function _(p){l("click",p),V.value&&(z.navigate.value?.(p),y?.toggle())}function te(p){(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),_(p))}return()=>{const p=z.isLink.value?"a":e.tag,W=!!(e.appendIcon||e.appendAvatar),R=!!(W||t.append),le=!!(t.close||e.closable),q=!!(t.filter||e.filter)&&y,U=!!(e.prependIcon||e.prependAvatar),P=!!(U||t.prepend);return d.value&&ke(r(p,de(z.linkProps,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":V.value,"v-chip--filter":q,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&z.isActive?.value},i.value,u.value,ee.value,v.value,f.value,h.value,b.value,M.value,y?.selectedClass.value,e.class],style:[A.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:V.value?0:void 0,onClick:_,onKeydown:V.value&&!D.value&&te}),{default:()=>[_t(V.value,"v-chip"),q&&r(Ot,{key:"filter"},{default:()=>[ke(g("div",{class:"v-chip__filter"},[t.filter?r(K,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},t.filter):r(x,{key:"filter-icon",icon:e.filterIcon},null)]),[[ut,y.isSelected.value]])]}),P&&g("div",{key:"prepend",class:"v-chip__prepend"},[t.prepend?r(K,{key:"prepend-defaults",disabled:!U,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},t.prepend):g(fe,null,[e.prependIcon&&r(x,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&r(ve,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),g("div",{class:"v-chip__content","data-no-activator":""},[t.default?.({isSelected:y?.isSelected.value,selectedClass:y?.selectedClass.value,select:y?.select,toggle:y?.toggle,value:y?.value.value,disabled:e.disabled})??$(e.text)]),R&&g("div",{key:"append",class:"v-chip__append"},[t.append?r(K,{key:"append-defaults",disabled:!W,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},t.append):g(fe,null,[e.appendIcon&&r(x,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&r(ve,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),le&&g("button",de({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},Z.value),[t.close?r(K,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},t.close):r(x,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}),[[Ve,V.value&&e.ripple,null]])}}}),Me=Y.reduce((e,s)=>(e[s]={type:[Boolean,String,Number],default:!1},e),{}),We=Y.reduce((e,s)=>{const a="offset"+ge(s);return e[a]={type:[String,Number],default:null},e},{}),Ue=Y.reduce((e,s)=>{const a="order"+ge(s);return e[a]={type:[String,Number],default:null},e},{}),Ie={col:Object.keys(Me),offset:Object.keys(We),order:Object.keys(Ue)};function Qt(e,s,a){let l=e;if(!(a==null||a===!1)){if(s){const t=s.replace(e,"");l+=`-${t}`}return e==="col"&&(l="v-"+l),e==="col"&&(a===""||a===!0)||(l+=`-${a}`),l.toLowerCase()}}const Kt=["auto","start","end","center","baseline","stretch"],Jt=O({cols:{type:[Boolean,String,Number],default:!1},...Me,offset:{type:[String,Number],default:null},...We,order:{type:[String,Number],default:null},...Ue,alignSelf:{type:String,default:null,validator:e=>Kt.includes(e)},...F(),...G()},"VCol"),Xt=j()({name:"VCol",props:Jt(),setup(e,s){let{slots:a}=s;const l=C(()=>{const t=[];let c;for(c in Ie)Ie[c].forEach(v=>{const f=e[v],h=Qt(c,v,f);h&&t.push(h)});const u=t.some(v=>v.startsWith("v-col-"));return t.push({"v-col":!u||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t});return()=>Le(e.tag,{class:[l.value,e.class],style:e.style},a.default?.())}}),ye=["start","end","center"],He=["space-between","space-around","space-evenly"];function pe(e,s){return Y.reduce((a,l)=>{const t=e+ge(l);return a[t]=s(),a},{})}const Yt=[...ye,"baseline","stretch"],Qe=e=>Yt.includes(e),Ke=pe("align",()=>({type:String,default:null,validator:Qe})),Zt=[...ye,...He],Je=e=>Zt.includes(e),Xe=pe("justify",()=>({type:String,default:null,validator:Je})),el=[...ye,...He,"stretch"],Ye=e=>el.includes(e),Ze=pe("alignContent",()=>({type:String,default:null,validator:Ye})),Ee={align:Object.keys(Ke),justify:Object.keys(Xe),alignContent:Object.keys(Ze)},tl={align:"align",justify:"justify",alignContent:"align-content"};function ll(e,s,a){let l=tl[e];if(a!=null){if(s){const t=s.replace(e,"");l+=`-${t}`}return l+=`-${a}`,l.toLowerCase()}}const al=O({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Qe},...Ke,justify:{type:String,default:null,validator:Je},...Xe,alignContent:{type:String,default:null,validator:Ye},...Ze,...F(),...G()},"VRow"),nl=j()({name:"VRow",props:al(),setup(e,s){let{slots:a}=s;const l=C(()=>{const t=[];let c;for(c in Ee)Ee[c].forEach(u=>{const v=e[u],f=ll(c,u,v);f&&t.push(f)});return t.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),t});return()=>Le(e.tag,{class:["v-row",l.value,e.class],style:e.style},a.default?.())}}),sl={class:"d-flex align-start ga-4 mb-4"},ol={class:"flex-grow-1"},il={class:"text-h6 font-weight-bold mb-1"},rl={class:"text-body-2 text-medium-emphasis"},ul=Te({__name:"QuizCard",props:{quiz:{}},emits:["edit","delete","play"],setup(e){const s=e,a=C(()=>s.quiz.updatedAt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}));return(l,t)=>(I(),J(Rt,{class:"quiz-card pa-6",elevation:"0",rounded:"lg"},{default:S(()=>[r(qt,null,{default:S(()=>[g("div",sl,[r(ve,{class:"quiz-card__icon",color:"secondary",rounded:"lg",size:"52",variant:"flat"},{default:S(()=>[r(x,{color:"on-secondary",icon:"mdi-clipboard-text-outline",size:"28"})]),_:1}),g("div",ol,[g("div",il,$(e.quiz.title),1),g("div",rl,"Updated "+$(a.value),1)])]),r(Ht,{color:"primary",size:"small",variant:"tonal"},{default:S(()=>[B($(e.quiz.questions.length)+" "+$(e.quiz.questions.length===1?"question":"questions"),1)]),_:1})]),_:1}),r(Lt),r(Tt,{class:"pa-4 ga-2"},{default:S(()=>[r(X,{color:"primary","data-testid":"edit-btn","prepend-icon":"mdi-pencil-outline",size:"small",variant:"tonal",onClick:t[0]||(t[0]=c=>l.$emit("edit",e.quiz.id))},{default:S(()=>[...t[3]||(t[3]=[B(" Edit ",-1)])]),_:1}),r(X,{color:"error","data-testid":"delete-btn","prepend-icon":"mdi-delete-outline",size:"small",variant:"text",onClick:t[1]||(t[1]=c=>l.$emit("delete",e.quiz.id))},{default:S(()=>[...t[4]||(t[4]=[B(" Delete ",-1)])]),_:1}),r(Ft),r(X,{color:"secondary","data-testid":"play-btn","prepend-icon":"mdi-play",variant:"flat",onClick:t[2]||(t[2]=c=>l.$emit("play",e.quiz.id))},{default:S(()=>[...t[5]||(t[5]=[B(" Play ",-1)])]),_:1})]),_:1})]),_:1}))}}),cl=$t(ul,[["__scopeId","data-v-7e7fc62c"]]),dl={class:"d-flex align-center justify-space-between mb-6"},fl={key:0,class:"text-center py-12","data-testid":"empty-state"},pl=Te({__name:"QuizListView",setup(e){const s=vt(),a=Bt(),l=Se(""),t=Se(null),c=C(()=>{const b=l.value.toLowerCase().trim();return b?a.quizzes.filter(i=>i.title.toLowerCase().includes(b)):a.quizzes});function u(b){s.push({name:"quiz-edit",params:{id:b}})}function v(b){a.deleteQuiz(b)}function f(b){s.push({name:"quiz-play",params:{id:b}})}async function h(){await dt();const b=await ft();if(!b||!t.value)return;const d=(t.value.$el??t.value).querySelectorAll(":scope > .v-col");d.length!==0&&b.from(d,{opacity:0,y:40,stagger:.1,duration:.5,ease:"power2.out"})}return ct(h),me(c,h),(b,i)=>(I(),J(Nt,null,{default:S(()=>[g("div",dl,[i[3]||(i[3]=g("h1",{class:"text-h4 font-weight-bold"},"Quizzes",-1)),r(X,{color:"secondary","data-testid":"create-quiz-btn","prepend-icon":"mdi-plus",variant:"flat",onClick:i[0]||(i[0]=d=>mt(s).push({name:"quiz-create"}))},{default:S(()=>[...i[2]||(i[2]=[B(" New quiz ",-1)])]),_:1})]),r(Gt,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=d=>l.value=d),class:"mb-6",clearable:"","data-testid":"search-input","hide-details":"",label:"Search quizzes","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"]),c.value.length===0?(I(),ze("div",fl,[r(x,{class:"mb-4",color:"primary",icon:"mdi-clipboard-text-outline",size:"64"}),i[4]||(i[4]=g("div",{class:"text-h6"},"No quizzes yet",-1)),i[5]||(i[5]=g("div",{class:"text-body-2 text-medium-emphasis"},"Create your first quiz to get started",-1))])):(I(),J(nl,{key:1,ref_key:"cardRowRef",ref:t},{default:S(()=>[(I(!0),ze(fe,null,gt(c.value,d=>(I(),J(Xt,{key:d.id,cols:"12",lg:"4",md:"6"},{default:S(()=>[r(cl,{"data-testid":`quiz-card-${d.id}`,quiz:d,onDelete:v,onEdit:u,onPlay:f},null,8,["data-testid","quiz"])]),_:2},1024))),128))]),_:1},512))]),_:1}))}});export{pl as default};
